[{"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/index.js":"1","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/App.js":"2","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/storage.js":"3","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/history.js":"4","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/api.js":"5","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/store.js":"6","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/poll.js":"7","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userInfo.js":"8","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/index.js":"9","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userLogout.js":"10","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/reducer.js":"11","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/storageMiddleware.js":"12","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/prizes.js":"13","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userPrizes.js":"14","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/categories.js":"15","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/index.js":"16","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/index.js":"17","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/index.js":"18","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.wrapper.js":"19","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.wrapper.js":"20","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.wrapper.js":"21","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.js":"22","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.js":"23","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.js":"24","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Scroll.js":"25","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Container.js":"26","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Header.js":"27","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ImageWrapper.js":"28","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ContentWrapper.js":"29","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/index.js":"30","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/index.js":"31","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/index.js":"32","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/Categories.js":"33","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.wrapper.js":"34","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.wrapper.js":"35","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.js":"36","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.js":"37","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Card.js":"38"},{"size":168,"mtime":1578690918383,"results":"39","hashOfConfig":"40"},{"size":1505,"mtime":1608176560807,"results":"41","hashOfConfig":"40"},{"size":308,"mtime":1578271084879,"results":"42","hashOfConfig":"40"},{"size":88,"mtime":1578271084879,"results":"43","hashOfConfig":"40"},{"size":1540,"mtime":1578690918392,"results":"44","hashOfConfig":"40"},{"size":689,"mtime":1578271084879,"results":"45","hashOfConfig":"40"},{"size":874,"mtime":1578690918393,"results":"46","hashOfConfig":"40"},{"size":1044,"mtime":1578690918391,"results":"47","hashOfConfig":"40"},{"size":230,"mtime":1578271084875,"results":"48","hashOfConfig":"40"},{"size":162,"mtime":1578271084878,"results":"49","hashOfConfig":"40"},{"size":538,"mtime":1578271084878,"results":"50","hashOfConfig":"40"},{"size":460,"mtime":1578271084879,"results":"51","hashOfConfig":"40"},{"size":856,"mtime":1578271084878,"results":"52","hashOfConfig":"40"},{"size":735,"mtime":1578271084878,"results":"53","hashOfConfig":"40"},{"size":469,"mtime":1578271084878,"results":"54","hashOfConfig":"40"},{"size":62,"mtime":1578271084878,"results":"55","hashOfConfig":"40"},{"size":59,"mtime":1578271084876,"results":"56","hashOfConfig":"40"},{"size":59,"mtime":1578271084877,"results":"57","hashOfConfig":"40"},{"size":265,"mtime":1578271084877,"results":"58","hashOfConfig":"40"},{"size":993,"mtime":1578271084876,"results":"59","hashOfConfig":"40"},{"size":869,"mtime":1608561548204,"results":"60","hashOfConfig":"40"},{"size":3879,"mtime":1608145705120,"results":"61","hashOfConfig":"40"},{"size":4624,"mtime":1608561253816,"results":"62","hashOfConfig":"40"},{"size":2640,"mtime":1608563999270,"results":"63","hashOfConfig":"40"},{"size":165,"mtime":1578690918390,"results":"64","hashOfConfig":"40"},{"size":208,"mtime":1578690918388,"results":"65","hashOfConfig":"40"},{"size":444,"mtime":1578690918389,"results":"66","hashOfConfig":"40"},{"size":316,"mtime":1578690918389,"results":"67","hashOfConfig":"40"},{"size":234,"mtime":1608146950610,"results":"68","hashOfConfig":"40"},{"size":66,"mtime":1578271084878,"results":"69","hashOfConfig":"40"},{"size":62,"mtime":1578271084874,"results":"70","hashOfConfig":"40"},{"size":77,"mtime":1578271084875,"results":"71","hashOfConfig":"40"},{"size":1103,"mtime":1608152165048,"results":"72","hashOfConfig":"40"},{"size":1011,"mtime":1578271084874,"results":"73","hashOfConfig":"40"},{"size":262,"mtime":1608561650807,"results":"74","hashOfConfig":"40"},{"size":1201,"mtime":1578690918382,"results":"75","hashOfConfig":"40"},{"size":1604,"mtime":1608564048693,"results":"76","hashOfConfig":"40"},{"size":701,"mtime":1608146982009,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"qgcbyr",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"80"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"80"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"80"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"138"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"138"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"138"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157","usedDeprecatedRules":"138"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/index.js",[],["162","163"],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/App.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/storage.js",["164"],"const PREFIX = 'dmsiparty';\n\nexport default {\n  length: () => window.localStorage.length,\n  set: (key, value) => window.localStorage.setItem(`${PREFIX}:${key}`, value),\n  get: (key) => window.localStorage.getItem(`${PREFIX}:${key}`),\n  remove: (key) => window.localStorage.removeItem(`${PREFIX}:${key}`),\n};\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/history.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/api.js",["165"],"import storage from './storage';\nimport { USER_LOGOUT } from '../redux/modules/userLogout';\nimport store from '../redux/store';\nimport history from './history';\n\nconst getToken = () => {\n  const token = storage.get('token');\n  return `Bearer ${token}`;\n};\n\nexport default {\n  get: (route, authNeeded) => {\n    const url = `https://api.dmsiparty.com/v1${route}`;\n\n    const headers = authNeeded ?\n      { authorization: getToken() } :\n      {};\n\n    return fetch(url, { headers })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.errors) {\n          if (data.errors[0].code === 'UserExpiredError') {\n            store.dispatch({ type: USER_LOGOUT });\n            history.push('/');\n          }\n\n          return [data];\n        }\n\n        return [undefined, data];\n      });\n  },\n  post: (route, body, authNeeded) => {\n    const url = `https://api.dmsiparty.com/v1${route}`;\n\n    const contentType = 'application/json';\n\n    const headers = authNeeded ?\n      {\n        authorization: getToken(),\n        'content-type': contentType,\n      } :\n      { 'content-type': contentType };\n\n    return fetch(url, {\n      body: JSON.stringify(body),\n      headers,\n      method: 'POST',\n    })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.errors) {\n          if (data.errors[0].code === 'UserExpiredError') {\n            store.dispatch({ type: USER_LOGOUT });\n            history.push('/');\n          }\n\n          return [data];\n        }\n\n        return [undefined, data];\n      });\n  },\n}\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/store.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/poll.js",["166"],"import qs from 'qs';\n\nimport api from './api';\nimport storage from './storage';\nimport { updateTicketCount } from '../redux/modules/prizes';\n\nexport default (store) => {\n  setTimeout(checkPollReady, 0);\n  storage.set('lastChecked', new Date());\n\n  async function checkPollReady() {\n    if (storage.get('token')) {\n      const prizes = await api.get(`/prizes/diff?${qs.stringify({\n        since: new Date(storage.get('lastChecked')),\n      })}`).then(([err, { data }]) => data);\n\n      storage.set('lastChecked', new Date());\n\n      prizes.forEach((prize) => {\n        store.dispatch(updateTicketCount(prize.id, prize.attributes.committedTickets));\n      });\n\n      if (prizes.length) {\n        console.info(`Updated ticket counts at ${Number(new Date())}`);\n      }\n\n      setTimeout(checkPollReady, 30000);\n    } else {\n      setTimeout(checkPollReady, 30000);\n    }\n  }\n}\n",["167","168"],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userInfo.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userLogout.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/reducer.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/storageMiddleware.js",["169"],"import { USER_LOGOUT } from './modules/userLogout';\n\nexport default (storage) => ({ getState }) => (next) => (action) => {\n  const result = next(action);\n  const localStateTree = Object.assign({}, getState());\n\n  storage.set('stateTree', JSON.stringify(localStateTree));\n\n  if (action.type === USER_LOGOUT) {\n    storage.remove('stateTree');\n    storage.remove('userID');\n    storage.remove('token');\n    storage.remove('lastChecked');\n  }\n\n  return result;\n};","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/prizes.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userPrizes.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/categories.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Scroll.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Container.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Header.js",[],["170","171"],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ImageWrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ContentWrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/Categories.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.js",["172"],"import React from 'react';\nimport { Dropdown } from '@wedgekit/core';\n\nimport { USER_LOGOUT } from '../../redux/modules/userLogout';\nimport store from '../../redux/store';\nimport api from '../../utils/api';\n\nconst logout = () => {\n  store.dispatch({ type: USER_LOGOUT });\n  window.location.href = '/';\n};\n\nconst refresh = async ({\n   setUserInfo,\n   setPrizes,\n   setCategories,\n   setUserPrizes,\n }) => {\n  const [prizes, userInfo, categories, userPrizes] = await Promise.all([\n    api.get('/prizes').then(([err, { data }]) => data),\n    api.get('/users/me', true).then(([err, { data }]) => data),\n    api.get('/categories', true).then(([err, { data }]) => data),\n    api.get('/users/me/prizes', true).then(([err,  { data }]) => data),\n  ]);\n\n  setUserInfo(userInfo.attributes);\n  setPrizes(prizes);\n  setCategories(categories);\n  setUserPrizes(userPrizes);\n};\n\nexport default (props) => (\n  <Dropdown\n    label=\"Settings\"\n    options={[\n      { id: 'refresh', display: 'Refresh Data' },\n      { id: 'logout', display: 'Logout' },\n    ]}\n    subtle\n    onSelect={(s) => {\n      if (s === 'logout') {\n        logout();\n      } else if (s === 'refresh') {\n        refresh(props);\n      }\n    }}\n  />\n)\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Card.js",[],{"ruleId":"173","replacedBy":"174"},{"ruleId":"175","replacedBy":"176"},{"ruleId":"177","severity":1,"message":"178","line":3,"column":1,"nodeType":"179","endLine":8,"endColumn":3},{"ruleId":"177","severity":1,"message":"178","line":11,"column":1,"nodeType":"179","endLine":65,"endColumn":2},{"ruleId":"177","severity":1,"message":"180","line":7,"column":1,"nodeType":"179","endLine":32,"endColumn":2},{"ruleId":"173","replacedBy":"181"},{"ruleId":"175","replacedBy":"182"},{"ruleId":"177","severity":1,"message":"180","line":3,"column":1,"nodeType":"179","endLine":17,"endColumn":3},{"ruleId":"173","replacedBy":"183"},{"ruleId":"175","replacedBy":"184"},{"ruleId":"177","severity":1,"message":"180","line":32,"column":1,"nodeType":"179","endLine":48,"endColumn":2},"no-native-reassign",["185"],"no-negated-in-lhs",["186"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","Assign arrow function to a variable before exporting as module default",["185"],["186"],["185"],["186"],"no-global-assign","no-unsafe-negation"]