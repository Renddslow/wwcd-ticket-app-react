[{"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/index.js":"1","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/App.js":"2","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/storage.js":"3","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/history.js":"4","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/api.js":"5","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/store.js":"6","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/poll.js":"7","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userInfo.js":"8","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/index.js":"9","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userLogout.js":"10","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/reducer.js":"11","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/storageMiddleware.js":"12","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/prizes.js":"13","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userPrizes.js":"14","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/categories.js":"15","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/index.js":"16","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/index.js":"17","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/index.js":"18","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.wrapper.js":"19","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.wrapper.js":"20","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.wrapper.js":"21","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.js":"22","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.js":"23","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.js":"24","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Scroll.js":"25","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Container.js":"26","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Header.js":"27","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ImageWrapper.js":"28","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ContentWrapper.js":"29","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/index.js":"30","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/index.js":"31","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/index.js":"32","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/Categories.js":"33","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.wrapper.js":"34","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.wrapper.js":"35","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.js":"36","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.js":"37"},{"size":168,"mtime":1578690918383,"results":"38","hashOfConfig":"39"},{"size":1535,"mtime":1608145621100,"results":"40","hashOfConfig":"39"},{"size":308,"mtime":1578271084879,"results":"41","hashOfConfig":"39"},{"size":88,"mtime":1578271084879,"results":"42","hashOfConfig":"39"},{"size":1540,"mtime":1578690918392,"results":"43","hashOfConfig":"39"},{"size":689,"mtime":1578271084879,"results":"44","hashOfConfig":"39"},{"size":874,"mtime":1578690918393,"results":"45","hashOfConfig":"39"},{"size":1044,"mtime":1578690918391,"results":"46","hashOfConfig":"39"},{"size":230,"mtime":1578271084875,"results":"47","hashOfConfig":"39"},{"size":162,"mtime":1578271084878,"results":"48","hashOfConfig":"39"},{"size":538,"mtime":1578271084878,"results":"49","hashOfConfig":"39"},{"size":460,"mtime":1578271084879,"results":"50","hashOfConfig":"39"},{"size":856,"mtime":1578271084878,"results":"51","hashOfConfig":"39"},{"size":735,"mtime":1578271084878,"results":"52","hashOfConfig":"39"},{"size":469,"mtime":1578271084878,"results":"53","hashOfConfig":"39"},{"size":62,"mtime":1578271084878,"results":"54","hashOfConfig":"39"},{"size":59,"mtime":1578271084876,"results":"55","hashOfConfig":"39"},{"size":59,"mtime":1578271084877,"results":"56","hashOfConfig":"39"},{"size":265,"mtime":1578271084877,"results":"57","hashOfConfig":"39"},{"size":993,"mtime":1578271084876,"results":"58","hashOfConfig":"39"},{"size":894,"mtime":1578271084876,"results":"59","hashOfConfig":"39"},{"size":3879,"mtime":1608145705120,"results":"60","hashOfConfig":"39"},{"size":6879,"mtime":1608145821256,"results":"61","hashOfConfig":"39"},{"size":4870,"mtime":1608145779603,"results":"62","hashOfConfig":"39"},{"size":165,"mtime":1578690918390,"results":"63","hashOfConfig":"39"},{"size":208,"mtime":1578690918388,"results":"64","hashOfConfig":"39"},{"size":444,"mtime":1578690918389,"results":"65","hashOfConfig":"39"},{"size":316,"mtime":1578690918389,"results":"66","hashOfConfig":"39"},{"size":163,"mtime":1578690918389,"results":"67","hashOfConfig":"39"},{"size":66,"mtime":1578271084878,"results":"68","hashOfConfig":"39"},{"size":62,"mtime":1578271084874,"results":"69","hashOfConfig":"39"},{"size":77,"mtime":1578271084875,"results":"70","hashOfConfig":"39"},{"size":1056,"mtime":1578690918387,"results":"71","hashOfConfig":"39"},{"size":1011,"mtime":1578271084874,"results":"72","hashOfConfig":"39"},{"size":205,"mtime":1578271084873,"results":"73","hashOfConfig":"39"},{"size":1201,"mtime":1578690918382,"results":"74","hashOfConfig":"39"},{"size":785,"mtime":1578690918381,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"qgcbyr",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"78"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"78"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"78"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"78"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"78"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"78"},"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/index.js",[],["157","158"],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/App.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/storage.js",["159"],"const PREFIX = 'dmsiparty';\n\nexport default {\n  length: () => window.localStorage.length,\n  set: (key, value) => window.localStorage.setItem(`${PREFIX}:${key}`, value),\n  get: (key) => window.localStorage.getItem(`${PREFIX}:${key}`),\n  remove: (key) => window.localStorage.removeItem(`${PREFIX}:${key}`),\n};\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/history.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/api.js",["160"],"import storage from './storage';\nimport { USER_LOGOUT } from '../redux/modules/userLogout';\nimport store from '../redux/store';\nimport history from './history';\n\nconst getToken = () => {\n  const token = storage.get('token');\n  return `Bearer ${token}`;\n};\n\nexport default {\n  get: (route, authNeeded) => {\n    const url = `https://api.dmsiparty.com/v1${route}`;\n\n    const headers = authNeeded ?\n      { authorization: getToken() } :\n      {};\n\n    return fetch(url, { headers })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.errors) {\n          if (data.errors[0].code === 'UserExpiredError') {\n            store.dispatch({ type: USER_LOGOUT });\n            history.push('/');\n          }\n\n          return [data];\n        }\n\n        return [undefined, data];\n      });\n  },\n  post: (route, body, authNeeded) => {\n    const url = `https://api.dmsiparty.com/v1${route}`;\n\n    const contentType = 'application/json';\n\n    const headers = authNeeded ?\n      {\n        authorization: getToken(),\n        'content-type': contentType,\n      } :\n      { 'content-type': contentType };\n\n    return fetch(url, {\n      body: JSON.stringify(body),\n      headers,\n      method: 'POST',\n    })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.errors) {\n          if (data.errors[0].code === 'UserExpiredError') {\n            store.dispatch({ type: USER_LOGOUT });\n            history.push('/');\n          }\n\n          return [data];\n        }\n\n        return [undefined, data];\n      });\n  },\n}\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/store.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/utils/poll.js",["161"],"import qs from 'qs';\n\nimport api from './api';\nimport storage from './storage';\nimport { updateTicketCount } from '../redux/modules/prizes';\n\nexport default (store) => {\n  setTimeout(checkPollReady, 0);\n  storage.set('lastChecked', new Date());\n\n  async function checkPollReady() {\n    if (storage.get('token')) {\n      const prizes = await api.get(`/prizes/diff?${qs.stringify({\n        since: new Date(storage.get('lastChecked')),\n      })}`).then(([err, { data }]) => data);\n\n      storage.set('lastChecked', new Date());\n\n      prizes.forEach((prize) => {\n        store.dispatch(updateTicketCount(prize.id, prize.attributes.committedTickets));\n      });\n\n      if (prizes.length) {\n        console.info(`Updated ticket counts at ${Number(new Date())}`);\n      }\n\n      setTimeout(checkPollReady, 30000);\n    } else {\n      setTimeout(checkPollReady, 30000);\n    }\n  }\n}\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userInfo.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userLogout.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/reducer.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/storageMiddleware.js",["162"],"import { USER_LOGOUT } from './modules/userLogout';\n\nexport default (storage) => ({ getState }) => (next) => (action) => {\n  const result = next(action);\n  const localStateTree = Object.assign({}, getState());\n\n  storage.set('stateTree', JSON.stringify(localStateTree));\n\n  if (action.type === USER_LOGOUT) {\n    storage.remove('stateTree');\n    storage.remove('userID');\n    storage.remove('token');\n    storage.remove('lastChecked');\n  }\n\n  return result;\n};","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/prizes.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/userPrizes.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/redux/modules/categories.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/login/Login.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/Prizes.js",["163"],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prize/Prize.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Scroll.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Container.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/Header.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ImageWrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/styled/ContentWrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/index.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/pages/prizes/categories/Categories.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.wrapper.js",[],"/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/headerRight/HeaderRight.js",["164"],"import React from 'react';\nimport { Dropdown } from '@wedgekit/core';\n\nimport { USER_LOGOUT } from '../../redux/modules/userLogout';\nimport store from '../../redux/store';\nimport api from '../../utils/api';\n\nconst logout = () => {\n  store.dispatch({ type: USER_LOGOUT });\n  window.location.href = '/';\n};\n\nconst refresh = async ({\n   setUserInfo,\n   setPrizes,\n   setCategories,\n   setUserPrizes,\n }) => {\n  const [prizes, userInfo, categories, userPrizes] = await Promise.all([\n    api.get('/prizes').then(([err, { data }]) => data),\n    api.get('/users/me', true).then(([err, { data }]) => data),\n    api.get('/categories', true).then(([err, { data }]) => data),\n    api.get('/users/me/prizes', true).then(([err,  { data }]) => data),\n  ]);\n\n  setUserInfo(userInfo.attributes);\n  setPrizes(prizes);\n  setCategories(categories);\n  setUserPrizes(userPrizes);\n};\n\nexport default (props) => (\n  <Dropdown\n    label=\"Settings\"\n    options={[\n      { id: 'refresh', display: 'Refresh Data' },\n      { id: 'logout', display: 'Logout' },\n    ]}\n    subtle\n    onSelect={(s) => {\n      if (s === 'logout') {\n        logout();\n      } else if (s === 'refresh') {\n        refresh(props);\n      }\n    }}\n  />\n)\n","/Users/mmcelwee/repos/wwcd-ticket-app-react/src/components/header/Header.js",["165"],"import React from 'react';\nimport { get } from 'dot-prop';\nimport Lozenge from '@atlaskit/lozenge';\nimport Layout from '@wedgekit/layout';\nimport primitives, { Title } from '@wedgekit/primitives';\nimport styled from 'styled-components';\n\nconst UserHeader = styled(Layout.Grid)`\n  font-family: ${primitives.fontFamily};\n`;\n\nexport default (props) => (\n  <UserHeader areas={[]} columns={[1, 'minmax(0, max-content)']} align=\"center\">\n    <Title level={1} elementLevel={1}>Welcome,<br />{props.userInfo.firstName}!</Title>\n    <div className=\"user-counter\">\n      <Lozenge>\n        Tickets Remaining\n      </Lozenge>\n      <Title style={{ fontSize: '50px', textAlign: 'center' }} level={1} elementLevel={3}>{get(props.userInfo, 'tickets.remaining')}</Title>\n    </div>\n  </UserHeader>\n);\n",{"ruleId":"166","replacedBy":"167"},{"ruleId":"168","replacedBy":"169"},{"ruleId":"170","severity":1,"message":"171","line":3,"column":1,"nodeType":"172","endLine":8,"endColumn":3},{"ruleId":"170","severity":1,"message":"171","line":11,"column":1,"nodeType":"172","endLine":65,"endColumn":2},{"ruleId":"170","severity":1,"message":"173","line":7,"column":1,"nodeType":"172","endLine":32,"endColumn":2},{"ruleId":"170","severity":1,"message":"173","line":3,"column":1,"nodeType":"172","endLine":17,"endColumn":3},{"ruleId":"170","severity":1,"message":"173","line":64,"column":1,"nodeType":"172","endLine":179,"endColumn":3},{"ruleId":"170","severity":1,"message":"173","line":32,"column":1,"nodeType":"172","endLine":48,"endColumn":2},{"ruleId":"170","severity":1,"message":"173","line":12,"column":1,"nodeType":"172","endLine":22,"endColumn":3},"no-native-reassign",["174"],"no-negated-in-lhs",["175"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","Assign arrow function to a variable before exporting as module default","no-global-assign","no-unsafe-negation"]